(function(e){function t(t){for(var r,o,l=t[0],s=t[1],c=t[2],d=0,m=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,l=1;l<a.length;l++){var s=a[l];0!==n[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},i=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/admin/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("85ec"),n=a.n(r);n.a},"22de":function(e,t,a){"use strict";var r=a("8319"),n=a.n(r);n.a},"2b84":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o=(a("034f"),a("2877")),l={},s=Object(o["a"])(l,n,i,!1,null,null,null),c=s.exports,u=a("5c96"),d=a.n(u);a("0fae");r["default"].use(d.a);var m=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[a("el-aside",{staticStyle:{height:"100vh","background-color":"#545c64",overflow:"hidden"},attrs:{width:"200px"}},[a("el-menu",{attrs:{router:"","default-active":e.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-grid"}),e._v("分类管理 ")]),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("分类")]),a("el-menu-item",{attrs:{index:"/categories/createFather"}},[e._v("新建父级分类")]),a("el-menu-item",{attrs:{index:"/categories/listFather"}},[e._v("父级分类列表")]),a("el-menu-item",{attrs:{index:"/categories/create"}},[e._v("新建子分类")]),a("el-menu-item",{attrs:{index:"/categories/list"}},[e._v("分类列表")])],2)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-lock"}),e._v("内容管理 ")]),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("装备")]),a("el-menu-item",{attrs:{index:"/items/create"}},[e._v("新建装备")]),a("el-menu-item",{attrs:{index:"/items/list"}},[e._v("装备列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("物品")]),a("el-menu-item",{attrs:{index:"/articles/create"}},[e._v("新建物品材料")]),a("el-menu-item",{attrs:{index:"/articles/list"}},[e._v("物品材料列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("角色")]),a("el-menu-item",{attrs:{index:"/characters/create"}},[e._v("新建角色")]),a("el-menu-item",{attrs:{index:"/characters/list"}},[e._v("角色列表")])],2)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-ticket"}),e._v("运营管理 ")]),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("文章")]),a("el-menu-item",{attrs:{index:"/essays/create"}},[e._v("新建文章")]),a("el-menu-item",{attrs:{index:"/essays/list"}},[e._v("文章列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("广告位")]),a("el-menu-item",{attrs:{index:"/ads/create"}},[e._v("新建广告位")]),a("el-menu-item",{attrs:{index:"/ads/list"}},[e._v("广告位列表")])],2)],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-lock"}),e._v("账号管理 ")]),a("el-menu-item-group",[a("template",{slot:"title"},[e._v("用户账号")]),a("el-menu-item",{attrs:{index:"/admin_users/create"}},[e._v("新建账号")]),a("el-menu-item",{attrs:{index:"/admin_users/list"}},[e._v("编辑账号")])],2)],2)],1)],1),a("el-container",{attrs:{"text-color":"#fff"}},[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px","background-color":"#545c6"}},[a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("查看")]),a("el-dropdown-item",[e._v("新增")]),a("el-dropdown-item",[e._v("删除")])],1)],1),a("span",[e._v("Aldreiu")])],1),a("el-main",["Main"==e.$route.name?a("div",{staticClass:"mainPic"},[a("div",{staticClass:"cube"},[a("div",{staticClass:"img1"}),a("div",{staticClass:"img2"}),a("div",{staticClass:"img3"}),a("div",{staticClass:"img4"}),a("div",{staticClass:"img5"}),a("div",{staticClass:"img6"})])]):a("router-view",{key:e.$route.path})],1),a("el-footer",[a("a",{attrs:{href:"http://beian.miit.gov.cn"}},[a("span",[e._v("鄂ICP备2020016395号-1")])])])],1)],1)},f=[],h=(a("cb29"),{data:function(){var e={date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"};return{tableData:Array(20).fill(e)}},created:function(){this.$route}}),g=h,v=(a("22de"),Object(o["a"])(g,p,f,!1,null,null,null)),b=v.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v(e._s(e.id?"编辑":"新建")+"分类")]),a("el-form",{attrs:{"label-width":"70px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"父级分类"}},[a("el-select",{attrs:{placeholder:"请选择父级分类"},model:{value:e.model.parent._id,callback:function(t){e.$set(e.model.parent,"_id",t)},expression:"model.parent._id"}},e._l(e.parents,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},x=[],w=(a("96cf"),a("1da1")),_=(a("d3b7"),a("bc3a")),k=a.n(_),$=k.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/admin/"}).VUE_APP_API_URL||"/admin/api"});$.interceptors.request.use((function(e){return localStorage.token,localStorage.token&&(e.headers.Authorization="Bearer "+(localStorage.token||"")),e}),(function(e){return Promise.reject(e)})),$.interceptors.response.use((function(e){return e}),(function(e){if(e.response.data.message)return r["default"].prototype.$message({type:"error",message:e.response.data.message}),e.response,401===e.response.status&&ha.push("/login"),Promise.reject(e)}));var C=$,O=function(){return C.get("rest/categories")},T=function(e){return C.get("rest/categories/".concat(e))},R=function(e){return C.post("rest/categories",e)},M=function(e,t){return C.put("rest/categories/".concat(e),t)},j=function(e){return C.delete("rest/categories/".concat(e))},S=function(e){return C.post("rest/fatherCategories",e)},E=function(){return C.get("rest/fatherCategories")},D=function(e){return C.get("rest/fatherCategories/".concat(e))},z=function(e,t){return C.put("rest/fatherCategories/".concat(e),t)},A=function(e){return C.delete("/rest/fatherCategories/".concat(e))},F=function(e){return C.post("rest/items",e)},L=function(){return C.get("rest/items")},P=function(e){return C.get("rest/items/".concat(e))},B=function(e,t){return C.put("rest/items/".concat(e),t)},U=function(e){return C.delete("/rest/items/".concat(e))},I=function(e){return C.post("rest/articles",e)},N=function(){return C.get("rest/articles")},H=function(e){return C.get("rest/articles/".concat(e))},q=function(e,t){return C.put("rest/articles/".concat(e),t)},J=function(e){return C.delete("/rest/articles/".concat(e))},Q=function(e){return C.post("rest/characters",e)},V=function(){return C.get("rest/characters")},G=function(e){return C.get("rest/characters/".concat(e))},K=function(e,t){return C.put("rest/characters/".concat(e),t)},W=function(e){return C.delete("rest/characters/".concat(e))},X=function(e){return C.post("rest/essays",e)},Y=function(){return C.get("rest/essays")},Z=function(e){return C.get("rest/essays/".concat(e))},ee=function(e,t){return C.put("rest/essays/".concat(e),t)},te=function(e){return C.delete("rest/essays/".concat(e))},ae=function(e){return C.post("rest/ads",e)},re=function(){return C.get("rest/ads")},ne=function(e){return C.get("rest/ads/".concat(e))},ie=function(e,t){return C.put("rest/ads/".concat(e),t)},oe=function(e){return C.delete("rest/ads/".concat(e))},le=function(e){return C.post("rest/admin_users",e)},se=function(){return C.get("rest/admin_users")},ce=function(e){return C.get("rest/admin_users/".concat(e))},ue=function(e,t){return C.put("rest/admin_users/".concat(e),t)},de=function(e){return C.delete("rest/admin_users/".concat(e))},me={props:["id"],data:function(){return{model:{parent:{},name:""},parents:[]}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T(e.id);case 2:a=t.sent,e.model=Object.assign({},e.model,a.data);case 4:case"end":return t.stop()}}),t)})))()},fetchParents:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:a=t.sent,e.parents=a.data;case 5:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,M(e.id,e.model);case 3:e.$message({type:"success",message:"修改成功"}),t.next=9;break;case 6:return t.next=8,R(e.model);case 8:e.$message({type:"success",message:"添加成功"});case 9:e.$router.push("/categories/list");case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.fetchParents(),this.id&&this.fetch()}},pe=me,fe=Object(o["a"])(pe,y,x,!1,null,null,null),he=fe.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("分类列表")]),a("el-table",{attrs:{data:e.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"parent.name",label:"上级分类",width:"140"}}),a("el-table-column",{attrs:{prop:"name",label:"分类名称",width:"140"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.handleClickModel(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,0)}}},[e._v("编辑弹窗")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/categories/edit/"+t.row._id)}}},[e._v("编辑共存")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,1)}}},[e._v("删除")])]}}])})],1),a("category-dialog",{ref:"dialgComponent",attrs:{"dialog-title":e.dialogTitle,"item-model":e.categoryModel,"dialog-type":e.dialogType,"router-type":e.routerType,"dialog-titlea":e.dialogTitleA},on:{fetch:e.fetch}})],1)},ve=[],be=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogShowModel,width:"30%","before-close":e.handleCloseShowModel},on:{"update:visible":function(t){e.dialogShowModel=t}}},[a("el-form",{ref:"dialogModel",staticClass:"demo-ruleForm",attrs:{model:e.itemModel,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"ID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.itemModel._id,callback:function(t){e.$set(e.itemModel,"_id",t)},expression:"itemModel._id"}})],1),e.itemModel.parent?a("el-form-item",{attrs:{label:"父级分类名称"}},[e.dialogType?a("span",[e._v(e._s(e.itemModel.parent.name))]):a("el-input",{attrs:{disabled:""},model:{value:e.itemModel.parent.name,callback:function(t){e.$set(e.itemModel.parent,"name",t)},expression:"itemModel.parent.name"}})],1):e._e(),a("el-form-item",{attrs:{label:e.dialogTitlea,prop:"name"}},[e.dialogType?a("span",[e._v(e._s(e.itemModel.name))]):a("el-input",{model:{value:e.itemModel.name,callback:function(t){e.$set(e.itemModel,"name",t)},expression:"itemModel.name"}})],1),"ItemList"===e.routerType?a("el-form-item",{attrs:{label:"图片",prop:"name"}},[e.dialogType?a("span",[e._v(e._s(e.itemModel.icon))]):a("el-input",{model:{value:e.itemModel.icon,callback:function(t){e.$set(e.itemModel,"icon",t)},expression:"itemModel.icon"}})],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.dialogCloseModel}},[e._v("取 消")]),e.dialogType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogShowModel=!1}}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.dialogEditModel}},[e._v("保 存")])],1)],1)],1)}),ye=[],xe={name:"CategoryDialog",props:{dialogTitle:{type:String,default:"查看分类"},itemModel:{type:Object,default:function(){return{}}},dialogType:{type:Boolean,default:!1},routerType:{type:String,default:""},dialogTitlea:{type:String,default:""}},data:function(){return{dialogShowModel:!1,rules:{}}},methods:{fetchCategoryListFather:function(){this.$emit("fetch")},handleCloseShowModel:function(e){e()},dialogEditModel:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("CategoryList"!==e.routerType){t.next=6;break}return t.next=3,M(e.itemModel._id,e.itemModel);case 3:e.fetchCategoryListFather(),t.next=16;break;case 6:if("CategoryListFather"!==e.routerType){t.next=12;break}return t.next=9,z(e.itemModel._id,e.itemModel);case 9:e.fetchCategoryListFather(),t.next=16;break;case 12:if("ItemList"!==e.routerType){t.next=16;break}return t.next=16,B(e.itemModel._id,e.itemModel);case 16:e.$message({type:"success",message:"修改成功"}),e.dialogShowModel=!1;case 18:case"end":return t.stop()}}),t)})))()},dialogCloseModel:function(){this.dialogShowModel=!1,this.$refs.dialogModel.resetFields()}},created:function(){}},we=xe,_e=Object(o["a"])(we,be,ye,!1,null,"11228908",null),ke=_e.exports,$e={components:{CategoryDialog:ke},data:function(){return{items:[],categoryModel:{},dialogTitle:"",dialogType:null,routerType:"CategoryList",dialogTitleA:"分类"}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:a=t.sent,e.items=a.data;case 4:case"end":return t.stop()}}),t)})))()},dialogOff:function(){var e=this;this.$nextTick((function(){e.$refs["dialgComponent"].dialogShowModel=!0}))},handleClickModel:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogOff(),a.next=3,T(e._id);case 3:r=a.sent,n=r.data,t.dialogTitle="查看分类",t.categoryModel=n,t.dialogType=!0;case 8:case"end":return a.stop()}}),a)})))()},handleClickEditOrDel:function(e,t){var a=this;0==t?(this.dialogOff(),this.dialogTitle="编辑分类",this.categoryModel=e,this.dialogType=!1):this.$confirm("此操作将永久删除该分类".concat(e.name,"，是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j(e._id);case 2:a.$message({type:"success",message:"删除成功！"}),a.fetch();case 4:case"end":return t.stop()}}),t)})))).catch((function(){a.$message({type:"info",message:"取消删除"})}))},closeDialog:function(e){e&&this.fetch()}},created:function(){this.fetch()}},Ce=$e,Oe=Object(o["a"])(Ce,ge,ve,!1,null,null,null),Te=Oe.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v(e._s(e.id?"编辑":"新建")+"父级分类")]),a("el-form",{attrs:{"label-width":"70px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.modelFather.name,callback:function(t){e.$set(e.modelFather,"name",t)},expression:"modelFather.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},Me=[],je={props:["id"],data:function(){return{modelFather:{}}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D(e.id);case 2:a=t.sent,r=a.data,e.modelFather=r;case 6:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,z(e.id,e.modelFather);case 3:e.$message({type:"success",message:"修改成功"}),t.next=9;break;case 6:return t.next=8,S(e.modelFather);case 8:e.$message({type:"success",message:"添加成功"});case 9:e.$router.push("/categories/listFather");case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},Se=je,Ee=Object(o["a"])(Se,Re,Me,!1,null,"2add9e2e",null),De=Ee.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("父级分类列表")]),a("el-table",{attrs:{data:e.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"name",label:"分类名称",width:"140"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.handleClickFatherModel(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,0)}}},[e._v("编辑弹窗")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/categories/createFather/edit/"+t.row._id)}}},[e._v("编辑共存")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,1)}}},[e._v("删除")])]}}])})],1),a("category-dialog",{ref:"dialgComponent",attrs:{"dialog-title":e.dialogTitle,"item-model":e.categoryModelFather,"dialog-type":e.dialogType,"router-type":e.routerType,"dialog-titlea":e.dialogTitleA},on:{fetch:e.fetch}})],1)},Ae=[],Fe={components:{CategoryDialog:ke},data:function(){return{items:[],categoryModelFather:{},dialogTitle:"",dialogType:null,routerType:"CategoryListFather",dialogTitleA:"父级分类名称"}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:a=t.sent,e.items=a.data;case 4:case"end":return t.stop()}}),t)})))()},dialogOff:function(){var e=this;this.$nextTick((function(){e.$refs["dialgComponent"].dialogShowModel=!0}))},handleClickFatherModel:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogOff(),a.next=3,D(e._id);case 3:r=a.sent,n=r.data,t.dialogTitle="查看父级分类",t.categoryModelFather=n,t.dialogType=!0;case 8:case"end":return a.stop()}}),a)})))()},handleClickEditOrDel:function(e,t){var a=this;0==t?(this.dialogOff(),this.dialogTitle="编辑分类",this.categoryModelFather=e,this.dialogType=!1):this.$confirm("此操作将永久删除该分类".concat(e.name,"，是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A(e._id);case 2:a.$message({type:"success",message:"删除成功！"}),a.fetch();case 4:case"end":return t.stop()}}),t)})))).catch((function(){a.$message({type:"info",message:"取消删除"})}))},closeDialog:function(e){e&&this.fetch()}},created:function(){this.fetch()}},Le=Fe,Pe=Object(o["a"])(Le,ze,Ae,!1,null,null,null),Be=Pe.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("装备列表")]),a("el-table",{attrs:{data:e.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"name",label:"装备名称",width:"140"}}),a("el-table-column",{attrs:{prop:"icon",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{height:"3rem"},attrs:{src:e.row.icon,alt:""}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.handleClickModel(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,0)}}},[e._v("编辑弹窗")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/items/edit/"+t.row._id)}}},[e._v("编辑共存")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,1)}}},[e._v("删除")])]}}])})],1),a("category-dialog",{ref:"dialgComponent",attrs:{"dialog-title":e.dialogTitle,"item-model":e.categoryModel,"dialog-type":e.dialogType,"router-type":e.routerType,"dialog-titlea":e.dialogTitleA},on:{fetch:e.fetch}})],1)},Ie=[],Ne={components:{CategoryDialog:ke},data:function(){return{items:[],categoryModel:{},dialogTitle:"",dialogType:null,routerType:"ItemList",dialogTitleA:"装备名称"}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:a=t.sent,e.items=a.data;case 4:case"end":return t.stop()}}),t)})))()},dialogOff:function(){var e=this;this.$nextTick((function(){e.$refs["dialgComponent"].dialogShowModel=!0}))},handleClickModel:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogOff(),a.next=3,P(e._id);case 3:r=a.sent,n=r.data,t.dialogTitle="查看装备",t.categoryModel=n,t.dialogType=!0;case 8:case"end":return a.stop()}}),a)})))()},handleClickEditOrDel:function(e,t){var a=this;0==t?(this.dialogOff(),this.dialogTitle="编辑装备",this.categoryModel=e,this.dialogType=!1):this.$confirm("此操作将永久删除该装备".concat(e.name,"，是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U(e._id);case 2:a.$message({type:"success",message:"删除成功！"}),a.fetch();case 4:case"end":return t.stop()}}),t)})))).catch((function(){a.$message({type:"info",message:"取消删除"})}))},closeDialog:function(e){e&&this.fetch()}},created:function(){this.fetch()}},He=Ne,qe=Object(o["a"])(He,Ue,Ie,!1,null,null,null),Je=qe.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v(e._s(e.id?"编辑":"新建")+"装备")]),a("el-form",{attrs:{"label-width":"70px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"装备名称"}},[a("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"装备图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.getAutorizationHeaders(),action:e.uploadUrl,"show-file-list":!1,"on-success":e.afterUpload,name:"icon"}},[e.model.icon?a("img",{staticClass:"avatar",attrs:{src:e.model.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},Ve=[],Ge={props:["id"],data:function(){return{model:{},parents:[]}},methods:{afterUpload:function(e){this.$set(this.model,"icon",e.url)},fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P(e.id);case 2:a=t.sent,e.model=a.data;case 4:case"end":return t.stop()}}),t)})))()},fetchCreate:function(){this.model={}},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,B(e.id,e.model);case 3:e.$message({type:"success",message:"修改成功"}),t.next=9;break;case 6:return t.next=8,F(e.model);case 8:e.$message({type:"success",message:"添加成功"});case 9:e.$router.push("/items/list");case 10:case"end":return t.stop()}}),t)})))()}},watch:{"$route.path":function(){this.fetchCreate()}},created:function(){this.id&&this.fetch()}},Ke=Ge,We=(a("b72d"),Object(o["a"])(Ke,Qe,Ve,!1,null,null,null)),Xe=We.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v(e._s(e.id?"编辑":"新建")+"角色")]),a("el-form",{attrs:{"label-width":"150px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"基础信息"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"角色称号"}},[a("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"角色头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.getAutorizationHeaders(),action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload,name:"icon"}},[e.model.avatar?a("img",{staticClass:"avatar",attrs:{src:e.model.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"角色立绘"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.getAutorizationHeaders(),action:e.uploadUrl,"show-file-list":!1,"on-success":function(t){return e.$set(e.model,"drawing",t.url)},name:"icon"}},[e.model.drawing?a("img",{staticClass:"avatar",attrs:{src:e.model.drawing}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"角色属性"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.model.attribute.name,callback:function(t){e.$set(e.model.attribute,"name",t)},expression:"model.attribute.name"}},e._l(e.attributes,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"角色得意武器"}},[a("el-select",{attrs:{placeholder:"请选择",multiple:""},model:{value:e.model.categories,callback:function(t){e.$set(e.model,"categories",t)},expression:"model.categories"}},e._l(e.categories,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"角色HP和攻击力"}},[a("el-input",{staticClass:"input_left",attrs:{placeholder:"HP"},model:{value:e.model.hpandattack.hp,callback:function(t){e.$set(e.model.hpandattack,"hp",t)},expression:"model.hpandattack.hp"}}),a("el-input",{attrs:{placeholder:"攻击力"},model:{value:e.model.hpandattack.attack,callback:function(t){e.$set(e.model.hpandattack,"attack",t)},expression:"model.hpandattack.attack"}})],1),a("el-form-item",{attrs:{label:"种族"}},[a("el-select",{attrs:{placeholder:"请选择种族"},model:{value:e.model.race,callback:function(t){e.$set(e.model,"race",t)},expression:"model.race"}},e._l(e.races,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"日文名"}},[a("el-input",{model:{value:e.model.otherinfo.japanName,callback:function(t){e.$set(e.model.otherinfo,"japanName",t)},expression:"model.otherinfo.japanName"}})],1),a("el-form-item",{attrs:{label:"英文名"}},[a("el-input",{model:{value:e.model.otherinfo.enName,callback:function(t){e.$set(e.model.otherinfo,"enName",t)},expression:"model.otherinfo.enName"}})],1),a("el-form-item",{attrs:{label:"常用昵称(外号)"}},[a("el-input",{model:{value:e.model.otherinfo.commentName,callback:function(t){e.$set(e.model.otherinfo,"commentName",t)},expression:"model.otherinfo.commentName"}})],1),a("el-form-item",{attrs:{label:"露莉亚笔记"}},[a("el-input",{attrs:{type:"textarea",placeholder:"露莉亚笔记"},model:{value:e.model.otherinfo.notepad,callback:function(t){e.$set(e.model.otherinfo,"notepad",t)},expression:"model.otherinfo.notepad"}})],1),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input",{model:{value:e.model.otherinfo.age,callback:function(t){e.$set(e.model.otherinfo,"age",t)},expression:"model.otherinfo.age"}})],1),a("el-form-item",{attrs:{label:"身高"}},[a("el-input",{model:{value:e.model.otherinfo.height,callback:function(t){e.$set(e.model.otherinfo,"height",t)},expression:"model.otherinfo.height"}})],1),a("el-form-item",{attrs:{label:"声优"}},[a("el-input",{model:{value:e.model.otherinfo.cv,callback:function(t){e.$set(e.model.otherinfo,"cv",t)},expression:"model.otherinfo.cv"}})],1),a("el-form-item",{attrs:{label:"兴趣"}},[a("el-input",{model:{value:e.model.otherinfo.interest,callback:function(t){e.$set(e.model.otherinfo,"interest",t)},expression:"model.otherinfo.interest"}})],1),a("el-form-item",{attrs:{label:"喜好"}},[a("el-input",{model:{value:e.model.otherinfo.hobby,callback:function(t){e.$set(e.model.otherinfo,"hobby",t)},expression:"model.otherinfo.hobby"}})],1),a("el-form-item",{attrs:{label:"不擅长"}},[a("el-input",{model:{value:e.model.otherinfo.nogoodat,callback:function(t){e.$set(e.model.otherinfo,"nogoodat",t)},expression:"model.otherinfo.nogoodat"}})],1),a("el-form-item",{attrs:{label:"共享角色皮肤"}},[a("el-select",{attrs:{placeholder:"请选择共享角色",multiple:""},model:{value:e.model.character,callback:function(t){e.$set(e.model,"character",t)},expression:"model.character"}},e._l(e.characteies,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1)],1),a("el-tab-pane",{attrs:{label:"技能"}},[a("el-button",{on:{click:function(t){return e.model.skills.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加技能 ")]),a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.model.skills.pop()}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除最后一个技能 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap","margin-top":"15px"},attrs:{type:"flex"}},e._l(e.model.skills,(function(t,r){return a("el-col",{key:r,attrs:{md:12}},[a("el-form-item",{attrs:{label:"主动/被动"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.passive,callback:function(a){e.$set(t,"passive",a)},expression:"item.passive"}},e._l(e.attributes,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"技能图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.getAutorizationHeaders(),action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":function(a){return e.$set(t,"icon",a.url)},name:"icon"}},[t.icon?a("img",{staticClass:"avatar",attrs:{src:t.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"技能名称"}},[a("el-input",{model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),a("el-form-item",{attrs:{label:"技能间隔"}},[a("el-input",{model:{value:t.time,callback:function(a){e.$set(t,"time",a)},expression:"item.time"}})],1),a("el-form-item",{attrs:{label:"满级技能间隔"}},[a("el-input",{model:{value:t.time2,callback:function(a){e.$set(t,"time2",a)},expression:"item.time2"}})],1),a("el-form-item",{attrs:{label:"技能描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"item.description"}}),a("el-button",{staticClass:"skills-button",attrs:{type:"danger"},on:{click:function(t){return e.model.skills.splice(r,1)}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除当前技能 ")])],1)],1)})),1)],1),a("el-tab-pane",{attrs:{label:"解放上限1"}},[a("el-row",{staticStyle:{"flex-wrap":"wrap","margin-top":"15px"},attrs:{type:"flex"}},[a("el-col",{staticStyle:{border:"none"}},[e._v(" 上限1 所需材料 "),a("el-button",{on:{click:function(t){return e.model.items1.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加上限材料 ")]),e._l(e.model.items1,(function(t,r){return a("el-col",{key:r},[a("el-col",{staticStyle:{border:"none"}},[a("el-form-item",{attrs:{label:"上限1 材料"+(r+1)}},[a("el-select",{staticStyle:{width:"200px","margin-right":"100px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.article,callback:function(a){e.$set(t,"article",a)},expression:"item.article"}},e._l(e.articles,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1),a("el-input",{staticStyle:{width:"100px"},model:{value:t.num,callback:function(a){e.$set(t,"num",a)},expression:"item.num"}})],1)],1)],1)}))],2)],1)],1),a("el-tab-pane",{attrs:{label:"解放上限2"}},[a("el-row",{staticStyle:{"flex-wrap":"wrap","margin-top":"15px"},attrs:{type:"flex"}},[a("el-col",{staticStyle:{border:"none"}},[e._v(" 上限2 所需材料 "),a("el-button",{on:{click:function(t){return e.model.items2.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加上限材料 ")]),e._l(e.model.items2,(function(t,r){return a("el-col",{key:r},[a("el-col",{staticStyle:{border:"none"}},[a("el-form-item",{attrs:{label:"上限2 材料"+(r+1)}},[a("el-select",{staticStyle:{width:"200px","margin-right":"100px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.article,callback:function(a){e.$set(t,"article",a)},expression:"item.article"}},e._l(e.articles,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1),a("el-input",{staticStyle:{width:"100px"},model:{value:t.num,callback:function(a){e.$set(t,"num",a)},expression:"item.num"}})],1)],1)],1)}))],2)],1)],1),a("el-tab-pane",{attrs:{label:"解放上限3"}},[a("el-row",{staticStyle:{"flex-wrap":"wrap","margin-top":"15px"},attrs:{type:"flex"}},[a("el-col",{staticStyle:{border:"none"}},[e._v(" 上限3 所需材料 "),a("el-button",{on:{click:function(t){return e.model.items3.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加上限材料 ")]),e._l(e.model.items3,(function(t,r){return a("el-col",{key:r},[a("el-col",{staticStyle:{border:"none"}},[a("el-form-item",{attrs:{label:"上限3 材料"+(r+1)}},[a("el-select",{staticStyle:{width:"200px","margin-right":"100px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.article,callback:function(a){e.$set(t,"article",a)},expression:"item.article"}},e._l(e.articles,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1),a("el-input",{staticStyle:{width:"100px"},model:{value:t.num,callback:function(a){e.$set(t,"num",a)},expression:"item.num"}})],1)],1)],1)}))],2)],1)],1),a("el-tab-pane",{attrs:{label:"解放上限4"}},[a("el-row",{staticStyle:{"flex-wrap":"wrap","margin-top":"15px"},attrs:{type:"flex"}},[a("el-col",{staticStyle:{border:"none"}},[e._v(" 上限4 所需材料 "),a("el-button",{on:{click:function(t){return e.model.items4.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加上限材料 ")]),e._l(e.model.items4,(function(t,r){return a("el-col",{key:r},[a("el-col",{staticStyle:{border:"none"}},[a("el-form-item",{attrs:{label:"上限4 材料"+(r+1)}},[a("el-select",{staticStyle:{width:"200px","margin-right":"100px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.article,callback:function(a){e.$set(t,"article",a)},expression:"item.article"}},e._l(e.articles,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1),a("el-input",{staticStyle:{width:"100px"},model:{value:t.num,callback:function(a){e.$set(t,"num",a)},expression:"item.num"}})],1)],1)],1)}))],2)],1)],1),a("el-tab-pane",{attrs:{label:"解放上限5"}},[a("el-row",{staticStyle:{"flex-wrap":"wrap","margin-top":"15px"},attrs:{type:"flex"}},[a("el-col",{staticStyle:{border:"none"}},[e._v(" 上限5 所需材料 "),a("el-button",{on:{click:function(t){return e.model.items5.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加上限材料 ")]),e._l(e.model.items5,(function(t,r){return a("el-col",{key:r},[a("el-col",{staticStyle:{border:"none"}},[a("el-form-item",{attrs:{label:"上限5 材料"+(r+1)}},[a("el-select",{staticStyle:{width:"200px","margin-right":"100px"},attrs:{placeholder:"请选择"},model:{value:t.article,callback:function(a){e.$set(t,"article",a)},expression:"item.article"}},e._l(e.articles,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1),a("el-input",{staticStyle:{width:"100px"},model:{value:t.num,callback:function(a){e.$set(t,"num",a)},expression:"item.num"}})],1)],1)],1)}))],2)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},Ze=[],et={props:["id"],data:function(){return{model:{name:"",avatar:"",drawing:"",title:"",hpandattack:{},partners:[],otherinfo:{},skills:[],attribute:{},items1:[],items2:[],items3:[],items4:[],items5:[]},attributes:[],categories:[],races:[],characteies:[],articles:[]}},methods:{afterUpload:function(e){this.model.avatar=e.url},afterUploadDrawing:function(e){this.model.drawing=e.url},fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G(e.id);case 2:a=t.sent,e.model=Object.assign({},e.model,a.data);case 4:case"end":return t.stop()}}),t)})))()},fetchCreate:function(){this.model={}},fetchAttribute:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:a=t.sent,e.attributes=a.data;case 4:case"end":return t.stop()}}),t)})))()},fetchCategory:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:a=t.sent,e.categories=a.data;case 4:case"end":return t.stop()}}),t)})))()},fetchArticle:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:a=t.sent,e.articles=a.data;case 4:case"end":return t.stop()}}),t)})))()},fetchRace:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:a=t.sent,e.races=a.data;case 4:case"end":return t.stop()}}),t)})))()},fetchCharacter:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V();case 2:a=t.sent,e.characteies=a.data;case 4:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,K(e.id,e.model);case 3:e.$message({type:"success",message:"修改成功"}),t.next=9;break;case 6:return t.next=8,Q(e.model);case 8:e.$message({type:"success",message:"添加成功"});case 9:e.$router.push("/characters/list");case 10:case"end":return t.stop()}}),t)})))()}},watch:{"$route.path":function(){this.fetchCreate()}},created:function(){this.fetchRace(),this.fetchAttribute(),this.fetchCategory(),this.fetchCharacter(),this.fetchArticle(),this.id&&this.fetch()}},tt=et,at=(a("a48a"),Object(o["a"])(tt,Ye,Ze,!1,null,null,null)),rt=at.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("角色列表")]),a("el-table",{attrs:{data:e.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"name",label:"角色名称",width:"140"}}),a("el-table-column",{attrs:{prop:"avatar",label:"角色头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{height:"3rem"},attrs:{src:e.row.avatar,alt:""}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.handleClickModel(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,0)}}},[e._v("编辑弹窗")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/characters/edit/"+t.row._id)}}},[e._v("编辑共存")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,1)}}},[e._v("删除")])]}}])})],1),a("category-dialog",{ref:"dialgComponent",attrs:{"dialog-title":e.dialogTitle,"item-model":e.categoryModel,"dialog-type":e.dialogType,"router-type":e.routerType,"dialog-titlea":e.dialogTitleA},on:{fetch:e.fetch}})],1)},it=[],ot={components:{CategoryDialog:ke},data:function(){return{items:[],categoryModel:{},dialogTitle:"",dialogType:null,routerType:"CharacterList",dialogTitleA:"角色名称"}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V();case 2:a=t.sent,e.items=a.data;case 4:case"end":return t.stop()}}),t)})))()},dialogOff:function(){var e=this;this.$nextTick((function(){e.$refs["dialgComponent"].dialogShowModel=!0}))},handleClickModel:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogOff(),a.next=3,G(e._id);case 3:r=a.sent,n=r.data,t.dialogTitle="查看装备",t.categoryModel=n,t.dialogType=!0;case 8:case"end":return a.stop()}}),a)})))()},handleClickEditOrDel:function(e,t){var a=this;0==t?(this.dialogOff(),this.dialogTitle="编辑装备",this.categoryModel=e,this.dialogType=!1):this.$confirm("此操作将永久删除该装备".concat(e.name,"，是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W(e._id);case 2:a.$message({type:"success",message:"删除成功！"}),a.fetch();case 4:case"end":return t.stop()}}),t)})))).catch((function(){a.$message({type:"info",message:"取消删除"})}))},closeDialog:function(e){e&&this.fetch()}},created:function(){this.fetch()}},lt=ot,st=Object(o["a"])(lt,nt,it,!1,null,null,null),ct=st.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v(e._s(e.id?"编辑":"新建")+"物品材料")]),a("el-form",{attrs:{"label-width":"150px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"物品材料"}},[a("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"物品材料图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.getAutorizationHeaders(),action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload,name:"icon"}},[e.model.icon?a("img",{staticClass:"avatar",attrs:{src:e.model.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},dt=[],mt={props:["id"],data:function(){return{model:{},parents:[]}},methods:{afterUpload:function(e){this.$set(this.model,"icon",e.url)},fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H(e.id);case 2:a=t.sent,e.model=a.data;case 4:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,q(e.id,e.model);case 3:e.$message({type:"success",message:"修改成功"}),t.next=9;break;case 6:return t.next=8,I(e.model);case 8:e.$message({type:"success",message:"添加成功"});case 9:e.$router.push("/articles/list");case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},pt=mt,ft=(a("5794"),Object(o["a"])(pt,ut,dt,!1,null,null,null)),ht=ft.exports,gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("物品材料列表")]),a("el-table",{attrs:{data:e.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"name",label:"物品材料名称",width:"250"}}),a("el-table-column",{attrs:{prop:"icon",label:"物品材料图片",width:"250"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{height:"3rem"},attrs:{src:e.row.icon,alt:""}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.handleClickModel(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,0)}}},[e._v("编辑弹窗")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/articles/edit/"+t.row._id)}}},[e._v("编辑共存")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,1)}}},[e._v("删除")])]}}])})],1),a("category-dialog",{ref:"dialgComponent",attrs:{"dialog-title":e.dialogTitle,"item-model":e.categoryModel,"dialog-type":e.dialogType,"router-type":e.routerType,"dialog-titlea":e.dialogTitleA},on:{fetch:e.fetch}})],1)},vt=[],bt={components:{CategoryDialog:ke},data:function(){return{items:[],categoryModel:{},dialogTitle:"",dialogType:null,routerType:"ItemList",dialogTitleA:"装备名称"}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:a=t.sent,e.items=a.data;case 4:case"end":return t.stop()}}),t)})))()},dialogOff:function(){var e=this;this.$nextTick((function(){e.$refs["dialgComponent"].dialogShowModel=!0}))},handleClickModel:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogOff(),a.next=3,H(e._id);case 3:r=a.sent,n=r.data,t.dialogTitle="查看装备",t.categoryModel=n,t.dialogType=!0;case 8:case"end":return a.stop()}}),a)})))()},handleClickEditOrDel:function(e,t){var a=this;0==t?(this.dialogOff(),this.dialogTitle="编辑物品材料",this.categoryModel=e,this.dialogType=!1):this.$confirm("此操作将永久删除该物品材料".concat(e.name,"，是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,J(e._id);case 2:a.$message({type:"success",message:"删除成功！"}),a.fetch();case 4:case"end":return t.stop()}}),t)})))).catch((function(){a.$message({type:"info",message:"取消删除"})}))},closeDialog:function(e){e&&this.fetch()}},created:function(){this.fetch()}},yt=bt,xt=Object(o["a"])(yt,gt,vt,!1,null,null,null),wt=xt.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("文章列表")]),a("el-table",{attrs:{data:e.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"title",label:"新闻标题",width:"140"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.handleClickModel(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,0)}}},[e._v("编辑弹窗")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/essays/edit/"+t.row._id)}}},[e._v("编辑共存")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,1)}}},[e._v("删除")])]}}])})],1),a("category-dialog",{ref:"dialgComponent",attrs:{"dialog-title":e.dialogTitle,"item-model":e.categoryModel,"dialog-type":e.dialogType,"router-type":e.routerType,"dialog-titlea":e.dialogTitleA},on:{fetch:e.fetch}})],1)},kt=[],$t={components:{CategoryDialog:ke},data:function(){return{items:[],categoryModel:{},dialogTitle:"",dialogType:null,routerType:"CategoryList",dialogTitleA:"分类"}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Y();case 2:a=t.sent,e.items=a.data;case 4:case"end":return t.stop()}}),t)})))()},dialogOff:function(){var e=this;this.$nextTick((function(){e.$refs["dialgComponent"].dialogShowModel=!0}))},handleClickModel:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogOff(),a.next=3,Z(e._id);case 3:r=a.sent,n=r.data,t.dialogTitle="查看分类",t.categoryModel=n,t.dialogType=!0;case 8:case"end":return a.stop()}}),a)})))()},handleClickEditOrDel:function(e,t){var a=this;0==t?(this.dialogOff(),this.dialogTitle="编辑分类",this.categoryModel=e,this.dialogType=!1):this.$confirm("此操作将永久删除该分类".concat(e.name,"，是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,te(e._id);case 2:a.$message({type:"success",message:"删除成功！"}),a.fetch();case 4:case"end":return t.stop()}}),t)})))).catch((function(){a.$message({type:"info",message:"取消删除"})}))},closeDialog:function(e){e&&this.fetch()}},created:function(){this.fetch()}},Ct=$t,Ot=Object(o["a"])(Ct,_t,kt,!1,null,null,null),Tt=Ot.exports,Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v(e._s(e.id?"编辑":"新建")+"文章")]),a("el-form",{attrs:{"label-width":"70px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"文章分类"}},[a("el-select",{attrs:{placeholder:"请选择文章分类",multiple:""},model:{value:e.model.categories,callback:function(t){e.$set(e.model,"categories",t)},expression:"model.categories"}},e._l(e.categories,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"文章标题"}},[a("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"详情"}},[a("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},ready:function(t){return e.onEditorReady(t)}},model:{value:e.model.body,callback:function(t){e.$set(e.model,"body",t)},expression:"model.body"}}),a("el-upload",{staticClass:"essay-uploader",staticStyle:{display:"none"},attrs:{headers:e.getAutorizationHeaders(),action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.handleSuccess,name:"icon"}},[e.model.icon?a("img",{staticClass:"avatar",attrs:{src:e.model.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},Mt=[],jt=(a("a753"),a("8096"),a("14e1"),a("953d")),St=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]],Et={props:["id"],data:function(){return{model:{},categories:[],editorOption:{modules:{toolbar:{container:St,handlers:{image:function(e){e?document.querySelector(".essay-uploader input").click():this.quill.format("image",!1)}}}}}}},components:{quillEditor:jt["quillEditor"]},methods:{handleSuccess:function(e){var t=this.$refs.myQuillEditor.quill;if(e){var a=t.getSelection().index;t.insertEmbed(a,"image",e.url),t.setSelection(a+1),this.$notify({title:"成功",message:"图片插入成功",type:"success"})}else this.$notify.error({title:"错误",message:"图片插入失败"})},fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Z(e.id);case 2:a=t.sent,e.model=a.data;case 4:case"end":return t.stop()}}),t)})))()},fetchParents:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:a=t.sent,e.categories=a.data;case 5:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,ee(e.id,e.model);case 3:e.$message({type:"success",message:"修改成功"}),t.next=9;break;case 6:return t.next=8,X(e.model);case 8:e.$message({type:"success",message:"添加成功"});case 9:e.$router.push("/essays/list");case 10:case"end":return t.stop()}}),t)})))()},onEditorBlur:function(e){},onEditorFocus:function(e){},onEditorReady:function(e){},onEditorChange:function(e){e.quill;var t=e.html;e.text;this.content=t}},created:function(){this.fetchParents(),this.id&&this.fetch()}},Dt=Et,zt=Object(o["a"])(Dt,Rt,Mt,!1,null,null,null),At=zt.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("广告轮播列表")]),a("el-table",{attrs:{data:e.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"name",label:"广告名",width:"140"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.handleClickModel(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,0)}}},[e._v("编辑弹窗")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/ads/edit/"+t.row._id)}}},[e._v("编辑共存")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,1)}}},[e._v("删除")])]}}])})],1),a("category-dialog",{ref:"dialgComponent",attrs:{"dialog-title":e.dialogTitle,"item-model":e.categoryModel,"dialog-type":e.dialogType,"router-type":e.routerType,"dialog-titlea":e.dialogTitleA},on:{fetch:e.fetch}})],1)},Lt=[],Pt={components:{CategoryDialog:ke},data:function(){return{items:[],categoryModel:{},dialogTitle:"",dialogType:null,routerType:"CategoryList",dialogTitleA:"分类"}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re();case 2:a=t.sent,e.items=a.data;case 4:case"end":return t.stop()}}),t)})))()},dialogOff:function(){var e=this;this.$nextTick((function(){e.$refs["dialgComponent"].dialogShowModel=!0}))},handleClickModel:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogOff(),a.next=3,ne(e._id);case 3:r=a.sent,n=r.data,t.dialogTitle="查看分类",t.categoryModel=n,t.dialogType=!0;case 8:case"end":return a.stop()}}),a)})))()},handleClickEditOrDel:function(e,t){var a=this;0==t?(this.dialogOff(),this.dialogTitle="编辑分类",this.categoryModel=e,this.dialogType=!1):this.$confirm("此操作将永久删除该分类".concat(e.name,"，是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,oe(e._id);case 2:a.$message({type:"success",message:"删除成功！"}),a.fetch();case 4:case"end":return t.stop()}}),t)})))).catch((function(){a.$message({type:"info",message:"取消删除"})}))},closeDialog:function(e){e&&this.fetch()}},created:function(){this.fetch()}},Bt=Pt,Ut=Object(o["a"])(Bt,Ft,Lt,!1,null,null,null),It=Ut.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v(e._s(e.id?"编辑":"新建")+"广告位")]),a("el-form",{attrs:{"label-width":"70px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"广告位名"}},[a("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"广告"}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.model.items.push({})}}},[a("i",{staticClass:"el-icon-plus"}),e._v("添加广告 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},e._l(e.model.items,(function(t,r){return a("el-col",{key:r,staticClass:"adcol",attrs:{md:12}},[a("el-form-item",{attrs:{label:"广告URL"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.url,callback:function(a){e.$set(t,"url",a)},expression:"item.url"}})],1),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"广告图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.getAutorizationHeaders(),action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":function(a){return e.$set(t,"image",a.url)},name:"icon"}},[t.image?a("img",{staticClass:"adimg",attrs:{src:t.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.model.items.splice(r,1)}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除当前广告")])],1)})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},Ht=[],qt={props:["id"],data:function(){return{model:{items:[]}}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne(e.id);case 2:a=t.sent,a.data,e.model=Object.assign({},e.model,a.data),e.model;case 6:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,ie(e.id,e.model);case 3:e.$message({type:"success",message:"修改成功"}),t.next=9;break;case 6:return t.next=8,ae(e.model);case 8:e.$message({type:"success",message:"添加成功"});case 9:e.$router.push("/ads/list");case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},Jt=qt,Qt=(a("7e5d"),Object(o["a"])(Jt,Nt,Ht,!1,null,"9193e2a2",null)),Vt=Qt.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("账号列表")]),a("el-table",{attrs:{data:e.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名账号",width:"140"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.handleClickModel(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,0)}}},[e._v("编辑弹窗")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.$router.push("/admin_users/edit/"+t.row._id)}}},[e._v("编辑共存")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleClickEditOrDel(t.row,1)}}},[e._v("删除")])]}}])})],1),a("category-dialog",{ref:"dialgComponent",attrs:{"dialog-title":e.dialogTitle,"item-model":e.categoryModel,"dialog-type":e.dialogType,"router-type":e.routerType,"dialog-titlea":e.dialogTitleA},on:{fetch:e.fetch}})],1)},Kt=[],Wt={components:{CategoryDialog:ke},data:function(){return{items:[],categoryModel:{},dialogTitle:"",dialogType:null,routerType:"CategoryList",dialogTitleA:"分类"}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,se();case 2:a=t.sent,e.items=a.data;case 4:case"end":return t.stop()}}),t)})))()},dialogOff:function(){var e=this;this.$nextTick((function(){e.$refs["dialgComponent"].dialogShowModel=!0}))},handleClickModel:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogOff(),a.next=3,ce(e._id);case 3:r=a.sent,n=r.data,t.dialogTitle="查看分类",t.categoryModel=n,t.dialogType=!0;case 8:case"end":return a.stop()}}),a)})))()},handleClickEditOrDel:function(e,t){var a=this;0==t?(this.dialogOff(),this.dialogTitle="编辑分类",this.categoryModel=e,this.dialogType=!1):this.$confirm("此操作将永久删除该分类".concat(e.name,"，是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de(e._id);case 2:a.$message({type:"success",message:"删除成功！"}),a.fetch();case 4:case"end":return t.stop()}}),t)})))).catch((function(){a.$message({type:"info",message:"取消删除"})}))},closeDialog:function(e){e&&this.fetch()}},created:function(){this.fetch()}},Xt=Wt,Yt=Object(o["a"])(Xt,Gt,Kt,!1,null,null,null),Zt=Yt.exports,ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v(e._s(e.id?"编辑":"新建")+"账号")]),a("el-form",{attrs:{"label-width":"70px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},ta=[],aa={props:["id"],data:function(){return{model:{}}},methods:{fetch:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce(e.id);case 2:a=t.sent,e.model=a.data;case 4:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,ue(e.id,e.model);case 3:e.$message({type:"success",message:"修改成功"}),t.next=9;break;case 6:return t.next=8,le(e.model);case 8:e.$message({type:"success",message:"添加成功"});case 9:e.$router.push("/admin_users/list");case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},ra=aa,na=Object(o["a"])(ra,ea,ta,!1,null,null,null),ia=na.exports,oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-card",{staticClass:"login-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("请登录")])]),a("el-form",{ref:"model",attrs:{"label-width":"60px",model:e.model},nativeOn:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("el-form-item",{attrs:{label:"用户名:",prop:"username"}},[a("el-input",{model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"密 码:",prop:"password"}},[a("el-input",{attrs:{type:"password","show-password":""},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),a("el-form-item",{staticStyle:{"margin-right":"3rem"}},[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("登录")]),a("el-button",{on:{click:function(t){return e.resetForm("model")}}},[e._v("重置")])],1)],1)],1),e._m(0)],1)},la=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer-icp"},[a("a",{attrs:{href:"http://beian.miit.gov.cn"}},[a("span",[e._v("鄂ICP备2020016395号-1")])])])}],sa={data:function(){return{model:{}}},methods:{login:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("login",e.model);case 2:a=t.sent,a.data,localStorage.token=a.data.token,e.$router.push("/"),e.$message({type:"success",message:"登录成功"});case 7:case"end":return t.stop()}}),t)})))()},resetForm:function(e){this.$refs[e].resetFields()}}},ca=sa,ua=(a("8e8c"),Object(o["a"])(ca,oa,la,!1,null,"7ceb9f98",null)),da=ua.exports,ma=m["a"].prototype.push;m["a"].prototype.push=function(e){return ma.call(this,e).catch((function(e){return e}))},r["default"].use(m["a"]);var pa=[{path:"/login",name:"Login",component:da,meta:{isPublic:!0}},{path:"/",name:"Main",component:b,children:[{path:"/categories/create",component:he},{path:"/categories/edit/:id",component:he,props:!0},{path:"/categories/list",component:Te},{path:"/categories/createFather",component:De},{path:"/categories/createFather/edit/:id",component:De,props:!0},{path:"/categories/listFather",component:Be},{path:"/items/create",component:Xe},{path:"/items/edit/:id",component:Xe,props:!0},{path:"/items/list",component:Je},{path:"/articles/create",component:ht},{path:"/articles/edit/:id",component:ht,props:!0},{path:"/articles/list",component:wt},{path:"/characters/create",component:rt},{path:"/characters/edit/:id",component:rt,props:!0},{path:"/characters/list",component:ct},{path:"/essays/create",component:At},{path:"/essays/edit/:id",component:At,props:!0},{path:"/essays/list",component:Tt},{path:"/ads/create",component:Vt},{path:"/ads/edit/:id",component:Vt,props:!0},{path:"/ads/list",component:It},{path:"/admin_users/create",component:ia},{path:"/admin_users/edit/:id",component:ia,props:!0},{path:"/admin_users/list",component:Zt}]}],fa=new m["a"]({routes:pa});fa.beforeEach((function(e,t,a){if(!e.meta.isPublic&&!localStorage.token)return a("/login");a()}));var ha=fa;r["default"].config.productionTip=!1,r["default"].prototype.$http=C,r["default"].mixin({computed:{uploadUrl:function(){return this.$http.defaults.baseURL+"/upload"}},methods:{getAutorizationHeaders:function(){return{Authorization:"Bearer ".concat(localStorage.token||"")}}}}),new r["default"]({router:ha,render:function(e){return e(c)}}).$mount("#app")},5794:function(e,t,a){"use strict";var r=a("76e5"),n=a.n(r);n.a},"76e5":function(e,t,a){},"7e0c":function(e,t,a){},"7e5d":function(e,t,a){"use strict";var r=a("d60f"),n=a.n(r);n.a},8319:function(e,t,a){},"85ec":function(e,t,a){},"8e8c":function(e,t,a){"use strict";var r=a("d215"),n=a.n(r);n.a},a48a:function(e,t,a){"use strict";var r=a("7e0c"),n=a.n(r);n.a},b72d:function(e,t,a){"use strict";var r=a("2b84"),n=a.n(r);n.a},d215:function(e,t,a){},d60f:function(e,t,a){}});
//# sourceMappingURL=app.a5ec24e7.js.map